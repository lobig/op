<?php

$json = '
[
{
     "advertisement": {
      "AdvertisementId": "1",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Body",
      "Description": "Body Body Body",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "1000",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "2",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Kis kád",
      "Description": "Nagyon jó - nem használt! Eskü!",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "1000",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "3",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "4",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "5",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "6",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "7",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "8",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "9",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "10",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "11",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "2000",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "12",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "13",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "14",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "15",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "16",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "17",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "18",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "19",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "20",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "21",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "3000",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "22",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "23",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "24",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "25",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "25",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "25",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "25",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "25",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
},
{
    "advertisement": {
      "AdvertisementId": "25",
      "UserId": "1",
      "CategoryId": "1",
      "Summary": "Gyerek cipő",
      "Description": "27-es gyerekcipő áron alul eladó",
      "State": "1",
      "SubState": "1",
      "AdvertisementType": "1",
      "Tags": "",
      "Price": "500",
      "Quantity": "1",
      "IsFree": "0",
      "PlaceOfReceipt": "Maglód",
      "Conditionz": "használt",
      "CountOfViews": "1",
      "CreateDate": "2020-09-22 08:12:30",
      "LastModificationDate": "2020-09-22 08:12:30"
    }
}
]';

$json = json_decode($json, true);
$page = !isset($_GET['page']) ? 1 : $_GET['page'];
$nextpage = $page + 1;
$prevpage = $page - 1;
$limit = 10;
$offset = ($page - 1) * $limit;
$total_items = count($json);
$total_pages = ceil($total_items / $limit);
$final = array_splice($json, $offset, $limit); // splice them according to offset and limit

echo '<div class="container">
        <div class="row px-1">';

for ($i=0; $i<$limit; $i++) {
    $item= $final[$i]['advertisement'];
    /*echo '  
    		<div class="col-6 col-sm-4 col-lg-3">
        		<div class="levanderBlushLighter rounded mb-1">
            		<a href="../includes/product.php?itemid=' . $item['AdvertisementId'] . '" class="image-wrapper">
                    <img class="img-fluid rounded image" src="' . '/uploadedImages/babacipo.jpg' . '" class="navbar-logo">
                    </a>
    	        </div>
            </div>
            <div class="col-6 col-sm-4 col-lg-3">
                <h5 class="m-0">
                	<a href="../includes/product.php?itemid=' . $item['AdvertisementId'] . '" class="text-info">' . $item['Summary'] . '</a></h5>
                    <h4 class="m-0 price-color"><strong>' . $item['Price'] . ' Ft</strong></h4>
                    <p class="mb-1 font-weight-light small">' . $item['PlaceOfReceipt'] . ' | ' . $item['CreateDate'] . '</p>
                    <h5 class="small"><a href="../includes/category.php" class="text-info"><strong>' . '#kategórianév' . '</strong></a></h5>
            </div>';*/
    echo '  <div class="col-6 col-sm-4 col-lg-3 px-1">
                <div class="card border-0 levanderBlushLighter mb-1">
                    <a href="../includes/product.php?itemid=' . $item['AdvertisementId'] . '" class="image-wrapper">
                    <img class="card-img-top img-fluid rounded image" src="' . '../uploadedImages/babacipo_portrait.jpg' . '" class="navbar-logo">
                    </a>
                    <div class="card-body p-1 levanderBlushLighter">
                        <h5 class="m-0 mb-1"><a href="../includes/product.php?itemid=' . $item['AdvertisementId'] . '" class="text-info">' . $item['Summary'] . '</a></h5>
                        <h4 class="m-0"><strong>' . $item['Price'] . ' Ft</strong></h4>
                        <p class="mb-1 font-weight-light small">' . $item['PlaceOfReceipt'] . '</p>
                        <p class="mb-1 font-weight-light small">' . $item['CreateDate'] . '</p>
                        <h5 class="small"><a href="../includes/category.php" class="text-info"><strong>' . '#kategórianév' . '</strong></a></h5>
                    </div>
                </div>
            </div>';
}       
        
echo '  </div>
    </div>';

include 'pagination.php';

?>
